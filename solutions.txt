import { createSlice } from "@reduxjs/toolkit";

const apiSlice = createSlice({
  name: "api",
  initialState: {
    data: [],
    item: null,
    loading: false,
  },
  reducers: {
   
    fetchList: (state) => {
      state.loading = true;
    },
    fetchItem: (state) => {
      state.loading = true;
    },
    listSuccess: (state, action) => {
      state.list = action.payload;
      state.loading = false;
    },
    itemSuccess: (state, action) => {
      state.item = action.payload;
      state.loading = false;
    },
  },
});
export const { fetchItem,fetchList,listSuccess,itemSuccess } = apiSlice.actions;
export default apiSlice.reducer;




-------
import { apiCall } from "./apiService";
import {
  fetchList,fetchItem,listSuccess,itemSuccess
} from "./apiSlice";
import { call, put, takeLatest } from "redux-saga/effects";

function* fetchListSaga(action) {
  const response = yield call(apiCall, action.payload);
  yield put(listSuccess(response.data));
}
function* fetchItemSaga(action) {
  const response = yield call(apiCall, action.payload);
  yield put(itemSuccess(response.data));
}
export default function* rootSaga() {
  yield takeLatest(fetchList.type,fetchListSaga);
  yield takeLatest(fetchItem.type,fetchItemSaga);
}
