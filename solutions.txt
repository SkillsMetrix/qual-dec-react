import React, { useState } from "react";
import { useNavigate } from "react-router-dom";
function Login(props) {
  const [uname, setUname] = useState("");
  const [pass, setPass] = useState("");
const navigate=useNavigate()
  const handleLogin = (e) => {
    e.preventDefault();

    const user = JSON.parse(localStorage.getItem("qual"));
    if (user && user.uname === uname && user.pass === pass) {
        localStorage.setItem('loggedin','true')
     // alert("Login Success");
      navigate("/userdetails")
    } else {
      alert("login failed");
    }
  };

  return (
    <div>
      <div class="card">
        <div class="card-header">User Login Form</div>
        <div class="card-body">
          <form onSubmit={handleLogin}>
            UserName:{" "}
            <input
              type="text"
              value={uname}
              onChange={(e) => setUname(e.target.value)}
            />
            Password:{" "}
            <input
              type="password"
              value={pass}
              onChange={(e) => setPass(e.target.value)}
            />
            <button className="btn btn-primary">Login</button>
          </form>
        </div>
      </div>
    </div>
  );
}

export default Login;
--------

import React, { useEffect, useState } from 'react';
import Login from './Login';

function UserDetails(props) {
    const [loggedin,setLoggedin]= useState(false)

    useEffect(()=>{
        const status=localStorage.getItem("loggedin") ==='true'
        setLoggedin(status)
    },[])
    return (
        <div>
            {loggedin ? (
                <div>UserDetails.........!</div>
            ):(
                <Login onLogin={setLoggedin} />
            )}
        </div>
    );
}

export default UserDetails;
